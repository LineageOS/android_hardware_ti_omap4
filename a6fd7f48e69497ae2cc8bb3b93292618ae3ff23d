{
  "comments": [
    {
      "key": {
        "uuid": "fa5d592f_0cce055b",
        "filename": "BoardConfigCommon.mk",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 2936
      },
      "writtenOn": "2017-02-20T17:41:41Z",
      "side": 1,
      "message": "Allowing devices to override this is usually a bad idea, it leads to complex inheritance order-dependent BoardConfig setups. Typically it\u0027s better for flags that are not actually common to be set outside any common repos.",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 41
      },
      "revId": "a6fd7f48e69497ae2cc8bb3b93292618ae3ff23d",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa5d592f_ccf8ed4b",
        "filename": "BoardConfigCommon.mk",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 13026
      },
      "writtenOn": "2017-02-20T19:00:14Z",
      "side": 1,
      "message": "Sure, I can see your point, but moving this flag here makes sense for OMAP4:\n- There was a recent push to commonize more into h/ti/omap4\n- Current behavior is not changed, but made more flexible\n- Although it doesn\u0027t make a difference now, with a newer DDK, we\u0027d need to remove this kludge (that\u0027s how I stumbled upon this).\n\nAs of now, f/native has both the board flag and the OMAP4 hardcoding. OMAP4 devices that don\u0027t use h/ti/omap4 (can\u0027t think of any, hopefully a minority), should use the flag.",
      "parentUuid": "fa5d592f_0cce055b",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 41
      },
      "revId": "a6fd7f48e69497ae2cc8bb3b93292618ae3ff23d",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa5d592f_cc8fcdcb",
        "filename": "BoardConfigCommon.mk",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 2936
      },
      "writtenOn": "2017-02-20T19:11:34Z",
      "side": 1,
      "message": "Commonizing more is always good, but it\u0027s good to be aware of the issues that surround commonizing flags. I would be very careful allowing a precedent of allowing devices to override flags set in a common repo. For an example of what I\u0027m trying to avoid, see the device/qcom/common and device/qcom/msmXXXX repositories on CAF. Ultimately it\u0027s your repository (ies), but encouraging behavior that causes flag values to be very heavily dependent on inheritance order is something we\u0027ve run into maintainability problems with in the past.",
      "parentUuid": "fa5d592f_ccf8ed4b",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 41
      },
      "revId": "a6fd7f48e69497ae2cc8bb3b93292618ae3ff23d",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa5d592f_87040e16",
        "filename": "BoardConfigCommon.mk",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 13026
      },
      "writtenOn": "2017-02-20T21:41:33Z",
      "side": 1,
      "message": "Right, but the current situation is even more imperfect:\n- TARGET_BOARD_PLATFORM is already set here for h/ti/omap4 users, so exactly the same amount of possible dependency issues before and after, except now f/native hardcodes for the whole platform, irrespective of SGX DDK.\n- We need to be able to override -DWORKAROUND_BUG_10194508\u003d1 in f/native eventually; things can only happen in tandem, or not at all.\n\nA convoluted compromise would be to have BOARD_EGL_WORKAROUND_BUG_10194508 ?\u003d true replacing current line 49 of f/native/opengl/libs/Android.mk, then disable BOARD_EGL_WORKAROUND_BUG_10194508 in BoardConfigCommon.mk here (or elsewhere), when a newer DDK is ready.",
      "parentUuid": "fa5d592f_cc8fcdcb",
      "range": {
        "startLine": 29,
        "startChar": 0,
        "endLine": 29,
        "endChar": 41
      },
      "revId": "a6fd7f48e69497ae2cc8bb3b93292618ae3ff23d",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71",
      "unresolved": false
    }
  ]
}